<!DOCTYPE html>
<html ng-app="portfolioApp">
<head>
	<meta charset="utf-8">
	<title>Jonathan Grangien</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- angular libs -->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.min.js"></script>
	<script src="https://code.angularjs.org/1.2.28/angular-route.min.js"></script>

	<!-- Modules -->
	<script src="js/app.js"></script>

	<!-- jquery -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

	<!-- masonry -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/masonry/3.3.2/masonry.pkgd.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/3.1.8/imagesloaded.min.js"></script>

	<!-- sticky-kit -->
	<script src="https://cdn.jsdelivr.net/jquery.sticky-kit/1.1.2/jquery.sticky-kit.min.js"></script>
	
	<!-- Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

	<!-- spin js -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/spin.js/2.3.2/spin.min.js"></script>
	
	<!-- Other CSS imports -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

	<!-- Custom css -->
	<link rel="stylesheet" href="css/app.css">

</head>
<body>

	<!-- js initialization -->
	<script>
	$(document).ready(function() {

		var spinnerOptions = {
		  lines: 11, 
		  length: 10, 
		  width: 10, 
		  radius: 35, 
		  scale: 1.5, 
		  corners: 0.4, 
		  color: '#000', 
		  opacity: 0.25, 
		  rotate: 0, 
		  direction: 1, 
		  speed: 1.8, 
		  trail: 81, 
		  fps: 20, 
		  zIndex: 2e9, 
		  className: 'spinner', 
		  top: '50%', 
		  left: '50%', 
		  shadow: true, 
		  hwaccel: false, 
		  position: 'absolute' 
		}
		var target = document.getElementById('loading-screen')
		var spinner = new Spinner(spinnerOptions).spin(target);

		var countImages = $('#grid-container img').size();

		$('#grid-container').imagesLoaded()
		.always( function(){

			// when all images loaded or failed
			spinner.stop();
			$('#loading-screen').fadeOut("fast");
			$('#grid-container').fadeIn("fast");

			// initialize masonry
			$('#grid-container').masonry({
			  itemSelector: '.grid-item',
			  columnWidth: 0		//why and how.
			});
		})
		.progress( function( instance, image ) {
			if(image.isLoaded) {

				// update progress bar
				$(image.img).addClass('loaded');
				var countLoadedImages = $('#grid-container img.loaded').size();
				var width = 100 * (countLoadedImages / countImages) + '%';
				$('#progress-bar > #progress').css({ 'width' : width });	
			}
  	});

		$('#side-presentation').stick_in_parent();

	});
	</script>

  <!-- initial loading screen with loading spinner -->
	<div id="loading-screen">
		<div id="progress-bar">
			<div id="progress"></div>
		</div>
	</div>


	<!-- side presentation - invisible in phone view-->
	<div id="side-presentation">
		<div ng-controller="PresentationController as prez">
    	<img src="img/jonathan.png" class="img-rounded">
    	<h2>{{ prez.title }}</h2>
    	<p>{{ prez.presentationText }}
    	</p>
			<contact-links item="prez"></contact-links>
		</div>
	</div>

	<!-- top presentation - visible in phone view-->
	<div id="top-presentation">
		<div ng-controller="PresentationController as prez">
    	<div class="container">
	    	<div class="row">
	    		<div id="top-primary">
			    	<div class="col-xs-6">
				    	<img src="img/jonathan.png" class="img-rounded">
				    </div>

				    <div class="col-xs-6">
				    	<h2>{{ prez.title }}</h2>
				    	<p>{{ prez.presentationText }}</p>
							<contact-links item="prez"></contact-links>
				    </div>
				   </div>

			    <!-- for devices smaller still -->
			    <div id="top-secondary">
			    	<h2>{{ prez.title }}</h2>
			    	<p>{{ prez.presentationText }}</p>
						<contact-links item="prez"></contact-links>
			    </div>
		    </div>
	    </div>
		</div>
	</div>

	<!-- masonry tiles -->
  <div class="container">
    <div class="row">
	    <div class="col-sm-10 col-sm-offset-1">
		    <div id="grid-container">

			    <!-- projects loop -->
					<div ng-controller="ProjectsController as projects">
				    <div ng-repeat="project in projects.myProjects">
							<div class="grid-item">
				  			<img ng-src="{{ project.image }}" class="img-rounded">
					  		<h2>{{ project.title }}</h2>
					  		<h3>{{ project.teamDesc }}</h3>
					  		<p>{{ project.description }}</p>
					  		<project-card-buttons item="project"></project-card-buttons>
						 	</div>
						</div>
					</div>

				</div>
			</div>
		</div>
	</div>

</body>
</html>
